{% load static %}
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>単語学習</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <style>
        body{font-family:"Microsoft YaHei",sans-serif;background:#f5f6fa;text-align:center;margin:0}
        h1{color:#2b7fff;margin-top:30px}
        h3{color:#555;margin-top:-10px}
        select{padding:5px;font-size:14px;margin-top:10px}
        .cards{display:flex;flex-wrap:wrap;justify-content:center;gap:25px;padding:40px}
        .card{width:240px;height:160px;perspective:1000px}
        .inner{position:relative;width:100%;height:100%;transform-style:preserve-3d;transition:transform .7s ease}
        .card:hover .inner{transform:rotateY(180deg)}
        .front,.back{position:absolute;width:100%;height:100%;backface-visibility:hidden;border-radius:10px;box-shadow:0 3px 10px rgba(0,0,0,.15);display:flex;justify-content:center;align-items:center;flex-direction:column;font-size:18px;padding:15px;box-sizing:border-box}
        .front{background:linear-gradient(145deg,#2b7fff,#1a5fd3);color:#fff}
        .back{background:#fff;color:#333;transform:rotateY(180deg)}
        .pagination{margin-bottom:30px}
        button{background:#2b7fff;color:#fff;border:0;padding:8px 18px;border-radius:6px;margin:5px;font-size:15px;cursor:pointer}
        button:hover{background:#1a5fd3}
        a{text-decoration:none}
    </style>
</head>
<body>
    <h1>単語カード学習</h1>
    <h3>今の語彙データベース：{{ dict_name }}</h3>

    <form method="get" action="/learn">
        <input type="hidden" name="dict" value="{{ dict_name }}">
        <label>每ページ単語数：</label>
        <select name="size" onchange="this.form.submit()">
            <option value="18" {% if size == 18 %}selected{% endif %}>18</option>
            <option value="24" {% if size == 24 %}selected{% endif %}>24</option>
            <option value="36" {% if size == 36 %}selected{% endif %}>36</option>
            <option value="48" {% if size == 48 %}selected{% endif %}>48</option>
        </select>
    </form>

    <div class="cards">
        {% for w in words %}
        <div class="card">
            <div class="inner">
                <div class="front"><b>{{ w.word }}</b></div>
                <div class="back">
                    <p><b>{{ w.pos }}</b></p>
                    <p>{{ w.meaning }}</p>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

    <div class="pagination">
        {% if page > 1 %}
        <a href="/learn?dict={{ dict_name }}&page={{ page|add:'-1' }}&size={{ size }}"><button>上一组</button></a>
        {% endif %}
        {% if page < total_pages %}
        <a href="/learn?dict={{ dict_name }}&page={{ page|add:'1' }}&size={{ size }}"><button>下一组</button></a>
        {% endif %}
    </div>

    <p>
        <a href="/home">ホームページ</a>
        <a href="/quiz_select"><button>クイズ</button></a>
    </p>
</body>
</html>
